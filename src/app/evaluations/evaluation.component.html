<div class="button-page">
  <div class="row">
    <div class="col-sm-12">
      <app-card [title]="'Cadastro de Avaliações'">
        <form #evaluationForm="ngForm" (submit)="save(evaluation); this.evaluationForm.reset()">
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Título</label>
            <div class="col-sm-10">
              <input [(ngModel)]="evaluation.title" required name="title" #title="ngModel" type="text" class="form-control">
              <span *ngIf="title.invalid && (title.dirty || title.touched)" style='color: red'>Este campo é obrigatório.</span>  
            </div>
          </div>

          <div class="form-group row">  
            <label class="col-sm-2 col-form-label">Ambiente</label>
            <div class="col-sm-10">
              <select [(ngModel)]="evaluation.enviroments_id" #evaluationEnviroment="ngModel" required name="evaluationEnviroment" class="form-control">
                <option *ngFor="let enviroment of enviroments" [value]="enviroment.id">
                  {{ enviroment.name }}                                                                                                                                                                                                                                                                                                     
                </option> 
              </select>
              <span *ngIf="evaluationEnviroment.invalid && (evaluationEnviroment.dirty || evaluationEnviroment.touched)" style='color: red'>Este campo é obrigatório.</span>  
            </div>  
          </div>

          
          <div class="row">
              <label class="col-sm-2 col-form-label">Período</label>
              <div class="col-xs-12 col-12 col-sm-6 col-md-4 form-group">
                <input class="form-control"
                    bsDaterangepicker
                    name="period"
                    [bsConfig]="{ rangeInputFormat: 'DD/MM/YYYY'}"
                    #drp="bsDaterangepicker"
                    [(ngModel)]="evaluation.period"
                    [bsValue]="bsValue">
              </div>
  
              <div>
                <button class="btn btn-success" title="Clique aqui para expandir o calendário" (click)="drp.toggle()">
                  <i class='ti-calendar'></i>
                </button>
              </div>
          </div>
  
          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Responsável</label>
            <div class="col-sm-10">
              <select [(ngModel)]="evaluation.users_id" #enviromentResponsible="ngModel" required name="enviromentResponsible" class="form-control">
                <option *ngFor="let user of users" [value]="user.id">
                  {{ user.name }}                                                                                                                                                                                                                                                                                                     
                </option> 
              </select>
              <span *ngIf="enviromentResponsible.invalid && (enviromentResponsible.dirty || enviromentResponsible.touched)" style='color: red'>Este campo é obrigatório.</span>  
            </div>  
          </div>

          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Descrição</label>
            <div class="col-sm-10">
              <textarea class="textarea-width-100 form-control" name="comment"></textarea>
            </div>
          </div>

          <button class="btn btn-primary pull-right no-margin-right" type="submit">Salvar</button>
        </form>
      </app-card>

      <app-card [title]="'Listagem de Avaliações'">
        <div class="table-responsive">
        </div>
      </app-card>
    </div>
  </div>
</div>